(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{327:function(a,t,e){"use strict";e.r(t);var s=e(7),v=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),t("p",[t("a",{attrs:{name:"env"}})]),a._v(" "),t("h2",{attrs:{id:"环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境"}},[a._v("#")]),a._v(" 环境")]),a._v(" "),t("ul",[t("li",[a._v("PHP >= "),t("code",[a._v("7.1")])]),a._v(" "),t("li",[a._v("Laravel "),t("code",[a._v("5.5.0")]),a._v(" ~ "),t("code",[a._v("9.*")])]),a._v(" "),t("li",[a._v("Fileinfo PHP Extension")])]),a._v(" "),t("p",[t("a",{attrs:{name:"start"}})]),a._v(" "),t("h2",{attrs:{id:"开始安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开始安装"}},[a._v("#")]),a._v(" 开始安装")]),a._v(" "),t("p",[a._v("首先需要安装"),t("code",[a._v("laravel")]),a._v("框架，如已安装可以跳过此步骤。如果您是第一次使用"),t("code",[a._v("laravel")]),a._v("，请务必先阅读文档 https://learnku.com/docs/laravel/9.x/installation/12200 ！")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("composer")]),a._v(" create-project --prefer-dist laravel/laravel 项目名称 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9")]),a._v(".*\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 或")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("composer")]),a._v(" create-project --prefer-dist laravel/laravel 项目名称\n")])])]),t("p",[a._v("安装完"),t("code",[a._v("laravel")]),a._v("之后需要修改"),t("code",[a._v(".env")]),a._v("文件，设置数据库连接设置正确")]),a._v(" "),t("div",{staticClass:"language-dotenv extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("DB_CONNECTION=mysql\nDB_HOST=127.0.0.1\nDB_PORT=3306\nDB_DATABASE=dcat-admin\nDB_USERNAME=root\nDB_PASSWORD=\n")])])]),t("p",[a._v("安装"),t("code",[a._v("dcat-admin")])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("项目名称"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("composer")]),a._v(" require dcat/laravel-admin:"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2.*"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vvv")]),a._v("\n")])])]),t("blockquote",[t("p",[a._v("如果上一步出现报错，则更改"),t("code",[a._v("composer.json")]),a._v("的参数"),t("code",[a._v("minimum-stability")]),a._v("的值为"),t("code",[a._v("dev")]),a._v("。")])]),a._v(" "),t("p",[a._v("然后运行下面的命令来发布资源：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("php artisan admin:publish\n")])])]),t("p",[a._v("在该命令会生成配置文件"),t("code",[a._v("config/admin.php")]),a._v("，可以在里面修改安装的地址、数据库连接、以及表名，建议都是用默认配置不修改。")]),a._v(" "),t("p",[a._v("然后运行下面的命令完成安装：")]),a._v(" "),t("blockquote",[t("p",[a._v("{tip} 执行这一步命令可能会报以下错误"),t("code",[a._v("Specified key was too long ... 767 bytes")]),a._v("，如果出现这个报错，请在"),t("code",[a._v("app/Providers/AppServiceProvider.php")]),a._v("文件的"),t("code",[a._v("boot")]),a._v("方法中加上代码"),t("code",[a._v("\\Schema::defaultStringLength(191);")]),a._v("，然后删除掉数据库中的所有数据表，再重新运行一遍"),t("code",[a._v("php artisan admin:install")]),a._v("命令即可。")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("php artisan admin:install\n")])])]),t("p",[a._v("上述步骤操作完成之后就可以配置"),t("code",[a._v("web")]),a._v("服务了，"),t("strong",[a._v("注意需要把"),t("code",[a._v("web")]),a._v("目录指向"),t("code",[a._v("public")]),a._v("目录")]),a._v("！如果用的是"),t("code",[a._v("nginx")]),a._v("，还需要在配置中加上伪静态配置")]),a._v(" "),t("div",{staticClass:"language-dotenv extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("location / {\n\ttry_files $uri $uri/ /index.php?$query_string;\n}\n")])])]),t("p",[a._v("启动服务后，在浏览器打开 "),t("code",[a._v("http://localhost/admin")]),a._v("，使用用户名 "),t("code",[a._v("admin")]),a._v(" 和密码 "),t("code",[a._v("admin")]),a._v("登陆。")]),a._v(" "),t("p",[t("a",{attrs:{name:"files"}})]),a._v(" "),t("h2",{attrs:{id:"生成的文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成的文件"}},[a._v("#")]),a._v(" 生成的文件")]),a._v(" "),t("p",[a._v("安装完成之后,会在项目目录中生成以下的文件:")]),a._v(" "),t("p",[t("a",{attrs:{name:"config"}})]),a._v(" "),t("h3",{attrs:{id:"配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[a._v("#")]),a._v(" 配置文件")]),a._v(" "),t("p",[a._v("安装完成之后，"),t("code",[a._v("dcat-admin")]),a._v("所有的配置都在"),t("code",[a._v("config/admin.php")]),a._v("文件中。")]),a._v(" "),t("p",[t("a",{attrs:{name:"admin"}})]),a._v(" "),t("h3",{attrs:{id:"后台项目文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后台项目文件"}},[a._v("#")]),a._v(" 后台项目文件")]),a._v(" "),t("p",[a._v("安装完成之后，后台的安装目录为"),t("code",[a._v("app/Admin")]),a._v("，之后大部分的后台开发编码工作都是在这个目录下进行。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("app/Admin\n├── Controllers\n│   ├── AuthController.php\n│   └── HomeController.php\n├── Metrics\n│   └── Examples\n│       ├── NewDevices.php\n│       ├── NewUsers.php\n│       ├── ProductOrders.php\n│       ├── Sessions.php\n│       ├── Tickets.php\n│       └── TotalUsers.php\n├── bootstrap.php\n└── routes.php\n")])])]),t("ol",[t("li",[t("code",[a._v("app/Admin/routes.php")]),a._v("文件用来配置后台路由。")]),a._v(" "),t("li",[t("code",[a._v("app/Admin/bootstrap.php")]),a._v(" 是"),t("code",[a._v("dcat-admin")]),a._v("的启动文件, 使用方法请参考文件里面的注释.")]),a._v(" "),t("li",[t("code",[a._v("app/Admin/Controllers")]),a._v("目录用来存放后台控制器文件，该目录下的"),t("code",[a._v("HomeController.php")]),a._v("文件是后台首页的显示控制器，"),t("code",[a._v("AuthController.php")]),a._v("为后台管理员登录鉴权控制器。")]),a._v(" "),t("li",[t("code",[a._v("app/Admin/Metrics/Examples")]),a._v("里面存放的是"),t("code",[a._v("数据统计卡片(Metric Card)")]),a._v("的示例代码.")])]),a._v(" "),t("p",[t("a",{attrs:{name:"assets"}})]),a._v(" "),t("h3",{attrs:{id:"静态文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#静态文件"}},[a._v("#")]),a._v(" 静态文件")]),a._v(" "),t("p",[a._v("后台所需的前端静态文件在"),t("code",[a._v("/public/vendor/dcat-admin")]),a._v("目录下。")]),a._v(" "),t("p",[t("a",{attrs:{name:"migrations"}})]),a._v(" "),t("h3",{attrs:{id:"数据表迁移文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据表迁移文件"}},[a._v("#")]),a._v(" 数据表迁移文件")]),a._v(" "),t("p",[a._v("对应的数据表迁移文件在"),t("code",[a._v("/database/migrations")]),a._v("目录下。")]),a._v(" "),t("p",[t("a",{attrs:{name:"lang"}})]),a._v(" "),t("h3",{attrs:{id:"语言包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#语言包"}},[a._v("#")]),a._v(" 语言包")]),a._v(" "),t("p",[a._v("语言包文件在"),t("code",[a._v("/resources/lang")]),a._v("目录下。")])])}),[],!1,null,null,null);t.default=v.exports}}]);